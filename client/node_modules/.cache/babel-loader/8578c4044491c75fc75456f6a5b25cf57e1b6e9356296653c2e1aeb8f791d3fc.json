{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MSI\\\\Desktop\\\\final-map-app\\\\client\\\\client\\\\src\\\\components\\\\Header.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport Signal from '../image/signal-tower.png';\nimport Tulp from '../image/tulip.png';\nimport { useNavigate, Link, useLocation } from 'react-router-dom';\nimport { useSendLogoutMutation } from '../features/auth/authApiSlice';\nimport useAuth from '../hooks/useAuth';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DASH_REGEX = /^\\/dash(\\/)?$/;\nconst USERS_REGEX = /^\\/users(\\/)?$/;\nconst Header = () => {\n  _s();\n  const {\n    isManager,\n    isAdmin\n  } = useAuth();\n  const navigate = useNavigate();\n  const {\n    pathname\n  } = useLocation();\n  const [sendLogout, {\n    isLoading,\n    isSuccess,\n    isError,\n    error\n  }] = useSendLogoutMutation();\n  useEffect(() => {\n    if (isSuccess) navigate('/');\n  }, [isSuccess, navigate]);\n  const onNewUserClicked = () => navigate('/dash/users/new');\n  const onUserClicked = () => navigate('/dash/users');\n  const onLogoutClicked = () => sendLogout();\n  let dashClass = null;\n  if (!DASH_REGEX.test(pathname) && !USERS_REGEX.test(pathname)) {\n    dashClass = \"dash-header__container--small\";\n  }\n  let newUserButton = null;\n  if (USERS_REGEX.test(pathname)) {\n    newUserButton = /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"headerButton\",\n      title: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\",\n      onClick: onNewUserClicked\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n  let userButton = null;\n  if (isManager || isAdmin) {\n    if (USERS_REGEX.test(pathname) && pathname.includes('/dash')) {\n      newUserButton = /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"headerButton\",\n        title: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0438\",\n        onClick: onUserClicked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this);\n    }\n  }\n  const logoutButton = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"headerButton\",\n    title: \"\\u0412\\u044B\\u0439\\u0442\\u0438\",\n    onClick: sendLogout,\n    children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 7\n  }, this);\n  const errClass = isError ? \"errmsg\" : \"offscreen\";\n  let buttonContent;\n  if (isLoading) {\n    buttonContent = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u0412\\u044B\\u0445\\u043E\\u0434 \\u0438\\u0437 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u044B...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }, this);\n  } else {\n    buttonContent = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [newUserButton, userButton, logoutButton]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: 'center',\n            fontSize: \"22px\",\n            color: \"#fff\",\n            marginLeft: \"0px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: Tulp,\n            style: {\n              width: \"38px\",\n              height: \"38px\",\n              marginRight: \"10px\"\n            },\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this), \"SHYMKENT\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"headerRight\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: 'center',\n              fontSize: \"22px\",\n              color: \"#fff\"\n            },\n            children: [\"\\u041E\\u043F\\u0435\\u0440\\u0430\\u0442\\u043E\\u0440\\u044B \\u0441\\u0432\\u044F\\u0437\\u0438\", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: Signal,\n              style: {\n                width: \"36px\",\n                height: \"36px\",\n                marginLeft: \"10px\"\n              },\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), buttonContent]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(Header, \"HwZQKA56ICGfxYYr6Yc9RAWYXwI=\", false, function () {\n  return [useAuth, useNavigate, useLocation, useSendLogoutMutation];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["useState","useEffect","Signal","Tulp","useNavigate","Link","useLocation","useSendLogoutMutation","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","DASH_REGEX","USERS_REGEX","Header","_s","isManager","isAdmin","navigate","pathname","sendLogout","isLoading","isSuccess","isError","error","onNewUserClicked","onUserClicked","onLogoutClicked","dashClass","test","newUserButton","className","title","onClick","fileName","_jsxFileName","lineNumber","columnNumber","userButton","includes","logoutButton","children","errClass","buttonContent","style","alignItems","justifyContent","display","fontSize","color","marginLeft","src","width","height","marginRight","alt","_c","$RefreshReg$"],"sources":["C:/Users/MSI/Desktop/final-map-app/client/client/src/components/Header.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport Signal from '../image/signal-tower.png'\r\nimport Tulp from '../image/tulip.png'\r\nimport { useNavigate, Link, useLocation } from 'react-router-dom';\r\n\r\nimport { useSendLogoutMutation } from '../features/auth/authApiSlice';\r\nimport useAuth from '../hooks/useAuth';\r\n\r\n\r\nconst DASH_REGEX = /^\\/dash(\\/)?$/\r\nconst USERS_REGEX = /^\\/users(\\/)?$/\r\n\r\n\r\nconst Header = () => {\r\n    const { isManager, isAdmin } = useAuth()\r\n\r\n  const navigate = useNavigate()\r\n  const { pathname } = useLocation()\r\n\r\n  const [sendLogout, {\r\n      isLoading,\r\n      isSuccess,\r\n      isError, \r\n      error\r\n  }] = useSendLogoutMutation()\r\n\r\n\r\n  useEffect(() => {\r\n      if(isSuccess) navigate('/')\r\n  }, [isSuccess, navigate])\r\n\r\n  const onNewUserClicked = () => navigate('/dash/users/new')\r\n  const onUserClicked = () => navigate('/dash/users')\r\n  const onLogoutClicked = () => sendLogout()\r\n\r\n\r\n\r\n  let dashClass = null\r\n    if (!DASH_REGEX.test(pathname) && !USERS_REGEX.test(pathname)) {\r\n        dashClass = \"dash-header__container--small\"\r\n    }\r\n\r\n    let newUserButton = null\r\n    if (USERS_REGEX.test(pathname)) {\r\n        newUserButton = (\r\n            <button\r\n                className='headerButton'\r\n                title='Новый пользователь'\r\n                onClick={onNewUserClicked}\r\n            ></button>\r\n        )\r\n    }\r\n\r\n    let userButton = null\r\n    if(isManager || isAdmin) {\r\n        if (USERS_REGEX.test(pathname) && pathname.includes('/dash')) {\r\n            newUserButton = (\r\n                <button\r\n                    className='headerButton'\r\n                    title='Пользовательи'\r\n                    onClick={onUserClicked}\r\n                ></button>\r\n            )\r\n        }\r\n    }\r\n\r\n    const logoutButton = (\r\n      <button\r\n          className=\"headerButton\"\r\n          title=\"Выйти\"\r\n          onClick={sendLogout}\r\n      >\r\n        Выйти\r\n      </button>\r\n  )\r\n\r\n  const errClass = isError ? \"errmsg\" : \"offscreen\"\r\n\r\n  let buttonContent\r\n  if(isLoading) {\r\n    buttonContent = <p>Выход из системы...</p>\r\n  } else {\r\n    buttonContent = (\r\n        <> \r\n            {newUserButton}\r\n            {userButton}\r\n            {logoutButton}\r\n        </>\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n    {/* <p className={errClass}>{error?.data?.message}</p> */}\r\n\r\n    <div className='header'>\r\n        <div className='container' style={{alignItems: \"center\", justifyContent: \"space-between\", display: \"flex\"}}>\r\n            <div style={{display: \"flex\", alignItems: 'center', fontSize: \"22px\", color: \"#fff\", marginLeft: \"0px\"}}>\r\n                <img src={Tulp} style={{width: \"38px\", height: \"38px\", marginRight: \"10px\"}} alt=\"logo\" />\r\n                SHYMKENT\r\n            </div>\r\n            <div className='headerRight'>\r\n            <div style={{display: \"flex\", alignItems: 'center', fontSize: \"22px\", color: \"#fff\"}}>\r\n                Операторы связи\r\n                <img src={Signal} style={{width: \"36px\", height: \"36px\", marginLeft: \"10px\"}} alt=\"logo\" />\r\n            </div>\r\n             {buttonContent}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}