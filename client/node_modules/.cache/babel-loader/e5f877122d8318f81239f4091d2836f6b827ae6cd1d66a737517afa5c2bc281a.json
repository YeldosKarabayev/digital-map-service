{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useUpdateUserMutation,useDeleteUserMutation}from\"./usersApiSlice\";import{useNavigate}from\"react-router\";import{ROLES}from\"../../config/roles\";import{jsx as _jsx}from\"react/jsx-runtime\";const USER_REGEX=/^[A-z]{3,20}$/;const PWD_REGEX=/^[A-z0-9!@#$%]{4,12}$/;const EditUserForm=_ref=>{let{user}=_ref;const[updateUser,{isLoading,isSuccess,isError,error}]=useUpdateUserMutation();const[deleteUser,{isSuccess:isDelSuccess,isError:isDelError,error:delerror}]=useDeleteUserMutation();const navigate=useNavigate();const[username,setUsername]=useState(user.username);const[validUsername,setValidUsername]=useState(false);const[password,setPassword]=useState('');const[validPassword,setValidPassword]=useState(false);const[roles,setRoles]=useState(user.roles);const[active,setActive]=useState(user.active);useEffect(()=>{setValidUsername(USER_REGEX.test(username));},[username]);useEffect(()=>{setValidPassword(PWD_REGEX.test(password));},[password]);useEffect(()=>{console.log(isSuccess);if(isSuccess||isDelSuccess){setUsername('');setPassword('');setRoles([]);navigate('/dash/users');}},[isSuccess,isDelSuccess,navigate]);return/*#__PURE__*/_jsx(\"div\",{children:\"Edit\"});};export default EditUserForm;","map":{"version":3,"names":["useState","useEffect","useUpdateUserMutation","useDeleteUserMutation","useNavigate","ROLES","jsx","_jsx","USER_REGEX","PWD_REGEX","EditUserForm","_ref","user","updateUser","isLoading","isSuccess","isError","error","deleteUser","isDelSuccess","isDelError","delerror","navigate","username","setUsername","validUsername","setValidUsername","password","setPassword","validPassword","setValidPassword","roles","setRoles","active","setActive","test","console","log","children"],"sources":["C:/Users/MSI/Desktop/final-map-app/client/client/src/features/users/EditUserForm.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useUpdateUserMutation, useDeleteUserMutation } from \"./usersApiSlice\";\r\nimport { useNavigate } from \"react-router\";\r\nimport  { ROLES} from \"../../config/roles\";\r\n\r\nconst USER_REGEX = /^[A-z]{3,20}$/\r\nconst PWD_REGEX = /^[A-z0-9!@#$%]{4,12}$/\r\n\r\n\r\nconst EditUserForm = ({ user }) => {\r\n\r\n    const  [updateUser, {\r\n        isLoading, \r\n        isSuccess,\r\n        isError,\r\n        error\r\n    }] = useUpdateUserMutation()\r\n\r\n    const [deleteUser, {\r\n        isSuccess: isDelSuccess,\r\n        isError: isDelError,\r\n        error: delerror\r\n    }] = useDeleteUserMutation()\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const [username, setUsername] = useState(user.username)\r\n    const [validUsername, setValidUsername] = useState(false)\r\n    const [password, setPassword] = useState('')\r\n    const [validPassword, setValidPassword] = useState(false)\r\n    const [roles, setRoles] = useState(user.roles)\r\n    const [active, setActive] = useState(user.active)\r\n\r\n    useEffect(() => {\r\n        setValidUsername(USER_REGEX.test(username))\r\n    }, [username])\r\n\r\n    useEffect(() => {\r\n        setValidPassword(PWD_REGEX.test(password))\r\n    }, [password])\r\n\r\n    useEffect(() => {\r\n        console.log(isSuccess)\r\n        if (isSuccess || isDelSuccess) {\r\n            setUsername('')\r\n            setPassword('')\r\n            setRoles([])\r\n            navigate('/dash/users')\r\n        }\r\n\r\n    }, [isSuccess, isDelSuccess, navigate])\r\n\r\n    return (\r\n        <div>Edit</div>\r\n    )\r\n}\r\n\r\nexport default EditUserForm"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,qBAAqB,CAAEC,qBAAqB,KAAQ,iBAAiB,CAC9E,OAASC,WAAW,KAAQ,cAAc,CAC1C,OAAUC,KAAK,KAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3C,KAAM,CAAAC,UAAU,CAAG,eAAe,CAClC,KAAM,CAAAC,SAAS,CAAG,uBAAuB,CAGzC,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAE1B,KAAO,CAACE,UAAU,CAAE,CAChBC,SAAS,CACTC,SAAS,CACTC,OAAO,CACPC,KACJ,CAAC,CAAC,CAAGf,qBAAqB,CAAC,CAAC,CAE5B,KAAM,CAACgB,UAAU,CAAE,CACfH,SAAS,CAAEI,YAAY,CACvBH,OAAO,CAAEI,UAAU,CACnBH,KAAK,CAAEI,QACX,CAAC,CAAC,CAAGlB,qBAAqB,CAAC,CAAC,CAE5B,KAAM,CAAAmB,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACmB,QAAQ,CAAEC,WAAW,CAAC,CAAGxB,QAAQ,CAACY,IAAI,CAACW,QAAQ,CAAC,CACvD,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAG1B,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAC2B,QAAQ,CAAEC,WAAW,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC6B,aAAa,CAAEC,gBAAgB,CAAC,CAAG9B,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAC+B,KAAK,CAAEC,QAAQ,CAAC,CAAGhC,QAAQ,CAACY,IAAI,CAACmB,KAAK,CAAC,CAC9C,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGlC,QAAQ,CAACY,IAAI,CAACqB,MAAM,CAAC,CAEjDhC,SAAS,CAAC,IAAM,CACZyB,gBAAgB,CAAClB,UAAU,CAAC2B,IAAI,CAACZ,QAAQ,CAAC,CAAC,CAC/C,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEdtB,SAAS,CAAC,IAAM,CACZ6B,gBAAgB,CAACrB,SAAS,CAAC0B,IAAI,CAACR,QAAQ,CAAC,CAAC,CAC9C,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd1B,SAAS,CAAC,IAAM,CACZmC,OAAO,CAACC,GAAG,CAACtB,SAAS,CAAC,CACtB,GAAIA,SAAS,EAAII,YAAY,CAAE,CAC3BK,WAAW,CAAC,EAAE,CAAC,CACfI,WAAW,CAAC,EAAE,CAAC,CACfI,QAAQ,CAAC,EAAE,CAAC,CACZV,QAAQ,CAAC,aAAa,CAAC,CAC3B,CAEJ,CAAC,CAAE,CAACP,SAAS,CAAEI,YAAY,CAAEG,QAAQ,CAAC,CAAC,CAEvC,mBACIf,IAAA,QAAA+B,QAAA,CAAK,MAAI,CAAK,CAAC,CAEvB,CAAC,CAED,cAAe,CAAA5B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}