{"ast":null,"code":"import{useSelector}from'react-redux';import{selectCurrentToken}from\"../features/auth/authSlice\";import{jwtDecode}from\"jwt-decode\";const useAuth=()=>{const token=useSelector(selectCurrentToken);let isManager=false;let isAdmin=false;let status=\"Employee\";if(token){const decoded=jwtDecode(token);const{username,roles}=decoded.UserInfo;isManager=roles.includes('Manager');isAdmin=roles.includes('Admin');if(isManager)status=\"Manager\";if(isAdmin)status=\"Admin\";return{username,roles,status,isManager,isAdmin};}return{username:'',roles:[],isManager,isAdmin,status};};export default useAuth;","map":{"version":3,"names":["useSelector","selectCurrentToken","jwtDecode","useAuth","token","isManager","isAdmin","status","decoded","username","roles","UserInfo","includes"],"sources":["C:/Users/MSI/Desktop/final-map-app/client/client/src/hooks/useAuth.js"],"sourcesContent":["import { useSelector } from 'react-redux'\r\nimport { selectCurrentToken } from \"../features/auth/authSlice\"\r\nimport { jwtDecode } from \"jwt-decode\"\r\n\r\nconst useAuth = () => {\r\n    const token = useSelector(selectCurrentToken)\r\n    let isManager = false\r\n    let isAdmin = false\r\n    let status = \"Employee\"\r\n\r\n    if (token) {\r\n        const decoded = jwtDecode(token)\r\n        const { username, roles } = decoded.UserInfo\r\n\r\n        isManager = roles.includes('Manager')\r\n        isAdmin = roles.includes('Admin')\r\n\r\n        if (isManager) status = \"Manager\"\r\n        if (isAdmin) status = \"Admin\"\r\n\r\n        return { username, roles, status, isManager, isAdmin }\r\n    }\r\n\r\n    return { username: '', roles: [], isManager, isAdmin, status }\r\n}\r\n\r\nexport default useAuth\r\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,aAAa,CACzC,OAASC,kBAAkB,KAAQ,4BAA4B,CAC/D,OAASC,SAAS,KAAQ,YAAY,CAEtC,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CAClB,KAAM,CAAAC,KAAK,CAAGJ,WAAW,CAACC,kBAAkB,CAAC,CAC7C,GAAI,CAAAI,SAAS,CAAG,KAAK,CACrB,GAAI,CAAAC,OAAO,CAAG,KAAK,CACnB,GAAI,CAAAC,MAAM,CAAG,UAAU,CAEvB,GAAIH,KAAK,CAAE,CACP,KAAM,CAAAI,OAAO,CAAGN,SAAS,CAACE,KAAK,CAAC,CAChC,KAAM,CAAEK,QAAQ,CAAEC,KAAM,CAAC,CAAGF,OAAO,CAACG,QAAQ,CAE5CN,SAAS,CAAGK,KAAK,CAACE,QAAQ,CAAC,SAAS,CAAC,CACrCN,OAAO,CAAGI,KAAK,CAACE,QAAQ,CAAC,OAAO,CAAC,CAEjC,GAAIP,SAAS,CAAEE,MAAM,CAAG,SAAS,CACjC,GAAID,OAAO,CAAEC,MAAM,CAAG,OAAO,CAE7B,MAAO,CAAEE,QAAQ,CAAEC,KAAK,CAAEH,MAAM,CAAEF,SAAS,CAAEC,OAAQ,CAAC,CAC1D,CAEA,MAAO,CAAEG,QAAQ,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEL,SAAS,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAClE,CAAC,CAED,cAAe,CAAAJ,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}