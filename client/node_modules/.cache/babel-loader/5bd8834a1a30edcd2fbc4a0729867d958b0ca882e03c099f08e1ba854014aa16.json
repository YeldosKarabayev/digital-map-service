{"ast":null,"code":"import{useGetUsersQuery}from\"./usersApiSlice\";import User from\"./User\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UsersList=()=>{const{data:users,isLoading,isSuccess,isError,error}=useGetUsersQuery('userList',{pollingInterval:6000,refetchOnMountOrArgChange:true,refetchOnFocus:true});let content;if(isLoading)content=/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"});if(isError){var _error$data;content=/*#__PURE__*/_jsx(\"p\",{className:\"errmsg\",children:error===null||error===void 0?void 0:(_error$data=error.data)===null||_error$data===void 0?void 0:_error$data.message});}if(isSuccess){const{ids}=users;const tableContent=ids!==null&&ids!==void 0&&ids.length?ids.map(userId=>/*#__PURE__*/_jsx(User,{userId:userId},userId)):null;content=/*#__PURE__*/_jsxs(\"table\",{className:\"table table--users\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table__thead\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"table__th user__username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"table__th user__roles\",children:\"Roles\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"table__th user__edit\",children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tableContent})]});}return content;};export default UsersList;","map":{"version":3,"names":["useGetUsersQuery","User","jsx","_jsx","jsxs","_jsxs","UsersList","data","users","isLoading","isSuccess","isError","error","pollingInterval","refetchOnMountOrArgChange","refetchOnFocus","content","children","_error$data","className","message","ids","tableContent","length","map","userId","scope"],"sources":["C:/Users/MSI/Desktop/final-map-app/client/client/src/features/users/UsersList.jsx"],"sourcesContent":["import { useGetUsersQuery } from \"./usersApiSlice\"\r\nimport User from \"./User\"\r\n\r\nconst UsersList = () => {\r\n\r\n  const {\r\n    data: users,\r\n    isLoading,\r\n    isSuccess,\r\n    isError,\r\n    error\r\n  } = useGetUsersQuery('userList', {\r\n    pollingInterval: 6000,\r\n    refetchOnMountOrArgChange: true,\r\n    refetchOnFocus: true\r\n  })\r\n\r\n  let content\r\n\r\n    if (isLoading) content = <p>Загрузка...</p>\r\n\r\n    if (isError) {\r\n        content = <p className=\"errmsg\">{error?.data?.message}</p>\r\n    }\r\n\r\n    if (isSuccess) {\r\n\r\n        const { ids } = users\r\n\r\n        const tableContent = ids?.length\r\n            ? ids.map(userId => <User key={userId} userId={userId} />)\r\n            : null\r\n\r\n        content = (\r\n            <table className=\"table table--users\">\r\n                <thead className=\"table__thead\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"table__th user__username\">Username</th>\r\n                        <th scope=\"col\" className=\"table__th user__roles\">Roles</th>\r\n                        <th scope=\"col\" className=\"table__th user__edit\">Edit</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {tableContent}\r\n                </tbody>\r\n            </table>\r\n        )\r\n    }\r\n\r\n\r\n  return content\r\n}\r\n\r\nexport default UsersList"],"mappings":"AAAA,OAASA,gBAAgB,KAAQ,iBAAiB,CAClD,MAAO,CAAAC,IAAI,KAAM,QAAQ,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CAEtB,KAAM,CACJC,IAAI,CAAEC,KAAK,CACXC,SAAS,CACTC,SAAS,CACTC,OAAO,CACPC,KACF,CAAC,CAAGZ,gBAAgB,CAAC,UAAU,CAAE,CAC/Ba,eAAe,CAAE,IAAI,CACrBC,yBAAyB,CAAE,IAAI,CAC/BC,cAAc,CAAE,IAClB,CAAC,CAAC,CAEF,GAAI,CAAAC,OAAO,CAET,GAAIP,SAAS,CAAEO,OAAO,cAAGb,IAAA,MAAAc,QAAA,CAAG,qDAAW,CAAG,CAAC,CAE3C,GAAIN,OAAO,CAAE,KAAAO,WAAA,CACTF,OAAO,cAAGb,IAAA,MAAGgB,SAAS,CAAC,QAAQ,CAAAF,QAAA,CAAEL,KAAK,SAALA,KAAK,kBAAAM,WAAA,CAALN,KAAK,CAAEL,IAAI,UAAAW,WAAA,iBAAXA,WAAA,CAAaE,OAAO,CAAI,CAAC,CAC9D,CAEA,GAAIV,SAAS,CAAE,CAEX,KAAM,CAAEW,GAAI,CAAC,CAAGb,KAAK,CAErB,KAAM,CAAAc,YAAY,CAAGD,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEE,MAAM,CAC1BF,GAAG,CAACG,GAAG,CAACC,MAAM,eAAItB,IAAA,CAACF,IAAI,EAAcwB,MAAM,CAAEA,MAAO,EAAvBA,MAAyB,CAAC,CAAC,CACxD,IAAI,CAEVT,OAAO,cACHX,KAAA,UAAOc,SAAS,CAAC,oBAAoB,CAAAF,QAAA,eACjCd,IAAA,UAAOgB,SAAS,CAAC,cAAc,CAAAF,QAAA,cAC3BZ,KAAA,OAAAY,QAAA,eACId,IAAA,OAAIuB,KAAK,CAAC,KAAK,CAACP,SAAS,CAAC,0BAA0B,CAAAF,QAAA,CAAC,UAAQ,CAAI,CAAC,cAClEd,IAAA,OAAIuB,KAAK,CAAC,KAAK,CAACP,SAAS,CAAC,uBAAuB,CAAAF,QAAA,CAAC,OAAK,CAAI,CAAC,cAC5Dd,IAAA,OAAIuB,KAAK,CAAC,KAAK,CAACP,SAAS,CAAC,sBAAsB,CAAAF,QAAA,CAAC,MAAI,CAAI,CAAC,EAC1D,CAAC,CACF,CAAC,cACRd,IAAA,UAAAc,QAAA,CACKK,YAAY,CACV,CAAC,EACL,CACV,CACL,CAGF,MAAO,CAAAN,OAAO,CAChB,CAAC,CAED,cAAe,CAAAV,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}